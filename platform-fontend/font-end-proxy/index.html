<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前后端分离开发说明 | JAS开发平台</title>
    <meta name="description" content="">
    <link rel="icon" href="/jas-docs/logo.ico">
    
    <link rel="preload" href="/jas-docs/assets/css/0.styles.4bee110f.css" as="style"><link rel="preload" href="/jas-docs/assets/js/app.812a0fd7.js" as="script"><link rel="preload" href="/jas-docs/assets/js/2.50176eb0.js" as="script"><link rel="preload" href="/jas-docs/assets/js/3.fd0e27db.js" as="script"><link rel="prefetch" href="/jas-docs/assets/js/10.54a4c263.js"><link rel="prefetch" href="/jas-docs/assets/js/11.f4f3c276.js"><link rel="prefetch" href="/jas-docs/assets/js/12.72f6290f.js"><link rel="prefetch" href="/jas-docs/assets/js/13.58037fc4.js"><link rel="prefetch" href="/jas-docs/assets/js/14.cd9b649f.js"><link rel="prefetch" href="/jas-docs/assets/js/4.cc3c8874.js"><link rel="prefetch" href="/jas-docs/assets/js/5.90472193.js"><link rel="prefetch" href="/jas-docs/assets/js/6.ccdcd567.js"><link rel="prefetch" href="/jas-docs/assets/js/7.74d9efab.js"><link rel="prefetch" href="/jas-docs/assets/js/8.a9e69e04.js"><link rel="prefetch" href="/jas-docs/assets/js/9.656703c3.js">
    <link rel="stylesheet" href="/jas-docs/assets/css/0.styles.4bee110f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/jas-docs/" class="home-link router-link-active"><!----> <span class="site-name">JAS开发平台</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/jas-docs/platform-fontend/" class="nav-link router-link-active">平台前端</a></div><div class="nav-item"><a href="/jas-docs/platform-backend/" class="nav-link">平台后端</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/jas-docs/platform-fontend/" class="nav-link router-link-active">平台前端</a></div><div class="nav-item"><a href="/jas-docs/platform-backend/" class="nav-link">平台后端</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/jas-docs/platform-fontend/config-guide.html" class="sidebar-link">基础业务模板配置指导</a></li><li><a href="/jas-docs/platform-fontend/font-end-proxy/" class="active sidebar-link">前后端分离开发说明</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/jas-docs/platform-fontend/font-end-proxy/#目前的问题" class="sidebar-link">目前的问题</a></li><li class="sidebar-sub-header"><a href="/jas-docs/platform-fontend/font-end-proxy/#解决方案" class="sidebar-link">解决方案</a></li><li class="sidebar-sub-header"><a href="/jas-docs/platform-fontend/font-end-proxy/#在开发环境实现前后端分离开发" class="sidebar-link">在开发环境实现前后端分离开发</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/jas-docs/platform-fontend/font-end-proxy/#安装node环境" class="sidebar-link">安装node环境</a></li><li class="sidebar-sub-header"><a href="/jas-docs/platform-fontend/font-end-proxy/#使用npm安装服务器" class="sidebar-link">使用npm安装服务器</a></li><li class="sidebar-sub-header"><a href="/jas-docs/platform-fontend/font-end-proxy/#修改服务器的配置文件" class="sidebar-link">修改服务器的配置文件</a></li><li class="sidebar-sub-header"><a href="/jas-docs/platform-fontend/font-end-proxy/#启动服务器" class="sidebar-link">启动服务器</a></li></ul></li><li class="sidebar-sub-header"><a href="/jas-docs/platform-fontend/font-end-proxy/#在生产环境使用nginx部署前端项目" class="sidebar-link">在生产环境使用Nginx部署前端项目</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/jas-docs/platform-fontend/font-end-proxy/#安装nginx服务器" class="sidebar-link">安装Nginx服务器</a></li><li class="sidebar-sub-header"><a href="/jas-docs/platform-fontend/font-end-proxy/#拷贝前端代码到服务器" class="sidebar-link">拷贝前端代码到服务器</a></li><li class="sidebar-sub-header"><a href="/jas-docs/platform-fontend/font-end-proxy/#修改nginx配置文件" class="sidebar-link">修改Nginx配置文件</a></li><li class="sidebar-sub-header"><a href="/jas-docs/platform-fontend/font-end-proxy/#启动与关闭nginx服务器" class="sidebar-link">启动与关闭Nginx服务器</a></li></ul></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="前后端分离开发说明"><a href="#前后端分离开发说明" aria-hidden="true" class="header-anchor">#</a> 前后端分离开发说明</h1> <p>[TOC]</p> <h2 id="目前的问题"><a href="#目前的问题" aria-hidden="true" class="header-anchor">#</a> 目前的问题</h2> <p>根据目前项目开发现状，总结如下问题：</p> <pre><code>- 每次改动前端代码，使用 Eclipse 重新发布，等待时间过长
- 浏览器资源缓存，更新的代码未加载，必须手动清理缓存
- 有些项目太大，使用 Eclipse 启动后，电脑卡顿，重新发布耗时更长
- 无法自动排查js语法错误
- 无法自动格式化前端代码
- ...
</code></pre> <h2 id="解决方案"><a href="#解决方案" aria-hidden="true" class="header-anchor">#</a> 解决方案</h2> <p>使用vsCode编辑器，编写前端代码</p> <p>在任意一台电脑启动后端项目，提供接口服务</p> <p>基于node环境，使用node服务器启动前端项目，并代理后端接口</p> <h2 id="在开发环境实现前后端分离开发"><a href="#在开发环境实现前后端分离开发" aria-hidden="true" class="header-anchor">#</a> 在开发环境实现前后端分离开发</h2> <h3 id="安装node环境"><a href="#安装node环境" aria-hidden="true" class="header-anchor">#</a> 安装node环境</h3> <p>前往 <a href="http://nodejs.cn/download/" target="_blank" rel="noopener noreferrer">node下载地址<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> ，下载node并安装，安装成功后在命令行工具中检测安装正确与否，成功显示版本号表示安装成功（npm会随着node一起被安装）</p> <p><img src="/jas-docs/assets/img/node.ca775fb0.png" alt=""></p> <h3 id="使用npm安装服务器"><a href="#使用npm安装服务器" aria-hidden="true" class="header-anchor">#</a> 使用npm安装服务器</h3> <ol><li>将【package.json】文件放到项目根目录下</li> <li>在根目录下打开命令行工具，执行 <strong>npm i</strong> 命令，此命令会根据【package.json】内的配置，从npm平台下载相关的包，自动放到当前目录下的【node_modules】文件夹下</li></ol> <h3 id="修改服务器的配置文件"><a href="#修改服务器的配置文件" aria-hidden="true" class="header-anchor">#</a> 修改服务器的配置文件</h3> <ol><li><p>将【bs-config.js】文件放到项目根目录下</p></li> <li><p>修改此文件内的配置信息，其他详细配置，请点击<a href="http://www.browsersync.cn/docs/options/#option-server" target="_blank" rel="noopener noreferrer">配置说明<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>进行查看</p> <p>​	<img src="/jas-docs/assets/img/config.7f12a3ff.png" alt="config"></p></li></ol> <h3 id="启动服务器"><a href="#启动服务器" aria-hidden="true" class="header-anchor">#</a> 启动服务器</h3> <p>在根目录下打开命令行工具，执行 <strong>npm start</strong> 命令，一般在10秒钟之内，系统会自动在默认浏览器中打开上面配置的主页，注意所有的请求路径都会走代理的配置，包含页面、图片、资源、服务接口，合理地配置代理是重中之重。根据上面的代理配置，结果如下：</p> <p><img src="/jas-docs/assets/img/proxy2.33161591.png" alt="XXX"></p> <p><img src="/jas-docs/assets/img/proxy1.d006db1d.png" alt=""></p> <h2 id="在生产环境使用nginx部署前端项目"><a href="#在生产环境使用nginx部署前端项目" aria-hidden="true" class="header-anchor">#</a> 在生产环境使用Nginx部署前端项目</h2> <p>以下方法只适用于windows系统</p> <h3 id="安装nginx服务器"><a href="#安装nginx服务器" aria-hidden="true" class="header-anchor">#</a> 安装Nginx服务器</h3> <p>去Nginx官网下载 <a href="http://nginx.org/en/download.html" target="_blank" rel="noopener noreferrer">Nginx Stable version<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，解压到任意文件夹（如：E盘根目录），得到如下目录</p> <p><img src="/jas-docs/assets/img/nginx.73a9c68b.png" alt=""></p> <h3 id="拷贝前端代码到服务器"><a href="#拷贝前端代码到服务器" aria-hidden="true" class="header-anchor">#</a> 拷贝前端代码到服务器</h3> <ol><li><p>将前端项目源码拷贝到 【html】文件夹下，如下图所示</p> <p><img src="/jas-docs/assets/img/nginx2.a336074e.png" alt=""></p></li> <li><p>在【html】文件夹下的【index.html】（服务器的默认起始页）内，添加js代码，用来跳转到实际项目的起始页，一般为登录页</p> <p><img src="/jas-docs/assets/img/router.03f05329.png" alt=""></p></li></ol> <h3 id="修改nginx配置文件"><a href="#修改nginx配置文件" aria-hidden="true" class="header-anchor">#</a> 修改Nginx配置文件</h3> <ol><li><p>打开nginx的配置文件，在nginx根目录下的【config】文件夹中的【nginx.conf】文件。</p></li> <li><p>修改端口号、域名、代理等配置</p> <div class="language- extra-class"><pre class="language-text"><code>server {
        listen       80; #端口号
        server_name  localhost; #域名
        root   html; #前端项目根目录
        location / { 
            index  index.html; #服务器默认起始页
        }
        error_page   500 502 503 504  /50x.html;
        location = /50x.html {
            root   html;
        }
        location /jasproxy { #接口的匹配规则
            rewrite  ^/jasproxy/jasmvvm/(.*)$  /jasmvvm/$1 permanent; #路径重写
            rewrite  ^/jasproxy/(.*)$  /jasframework-platform/$1 break;
            proxy_pass   http://192.168.100.130:8888; #代理到的后端服务器地址
        }
        location /jasframework { 
            rewrite  ^/jasframework/jasframework/(.*)$  /jasframework/$1 permanent;
            rewrite  ^/jasframework/jasmvvm/(.*)$  /jasmvvm/$1 permanent;
            rewrite  ^/jasframework/jasdoc/(.*)$  /jasdoc/$1 permanent;
        }       
}
</code></pre></div><p>【注意】此处的代理规则，同开发环境中node服务器的代理规则一致</p> <p>【注意】若开发过程没有前后端分离开发，需要自行根据接口形式按情况配置代理</p></li></ol> <h3 id="启动与关闭nginx服务器"><a href="#启动与关闭nginx服务器" aria-hidden="true" class="header-anchor">#</a> 启动与关闭Nginx服务器</h3> <ol><li>点击【nginx.exe】应用程序，启动服务器</li> <li>打开CMD管理工具，进入 nginx.exe所在目录，输入【 nginx.exe  -s  stop】，关闭服务器</li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/jas-docs/platform-fontend/config-guide.html" class="prev">基础业务模板配置指导</a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/jas-docs/assets/js/app.812a0fd7.js" defer></script><script src="/jas-docs/assets/js/2.50176eb0.js" defer></script><script src="/jas-docs/assets/js/3.fd0e27db.js" defer></script>
  </body>
</html>
